# KeyFlash Environment Variables
# Copy this file to .env.local and fill in your values

# ============================================
# API Keys (Choose ONE provider to start)
# ============================================

# Option 1: Google Ads API (Free Tier - Recommended for MVP)
# Get credentials from: https://developers.google.com/google-ads/api/docs/first-call/overview
GOOGLE_ADS_CLIENT_ID=
GOOGLE_ADS_CLIENT_SECRET=
GOOGLE_ADS_DEVELOPER_TOKEN=
GOOGLE_ADS_REFRESH_TOKEN=
GOOGLE_ADS_CUSTOMER_ID=

# Option 2: DataForSEO API (Paid - For scaling)
# Get API key from: https://dataforseo.com/
DATAFORSEO_API_LOGIN=
DATAFORSEO_API_PASSWORD=

# Active Provider (google-ads | dataforseo | mock)
# Default: mock (for development without API credentials)
KEYWORD_API_PROVIDER=mock

# ============================================
# Redis Cache (Upstash)
# ============================================
# Free tier: https://upstash.com/
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# ============================================
# Monitoring & Error Tracking
# ============================================

# Sentry (Error tracking)
# Free tier: https://sentry.io/
NEXT_PUBLIC_SENTRY_DSN=
SENTRY_AUTH_TOKEN=

# Vercel Analytics (Automatic on Vercel deployment)
# No configuration needed

# ============================================
# Privacy & Data Handling
# ============================================

# CRITICAL: Privacy mode controls keyword storage behavior
# true  = No keyword caching (slower but privacy-focused)
# false = Cache keywords for 7 days (faster but stores search terms)
# This setting MUST align with homepage privacy promise
PRIVACY_MODE=true

# ============================================
# Rate Limiting (Redis-based, spoof-resistant)
# ============================================
RATE_LIMIT_REQUESTS_PER_HOUR=10
RATE_LIMIT_ENABLED=true

# CRITICAL: Rate limiter fail-safe behavior when Redis fails
# open   = Allow requests when rate limiter fails (less secure, better availability)
# closed = Deny requests when rate limiter fails (more secure, may impact availability)
# Default: 'closed' in production, 'open' in development
RATE_LIMIT_FAIL_SAFE=closed

# CRITICAL: HMAC secret for spoof-resistant client identification
# Generate a random 32+ character string for production
# Used to create HMAC of user-agent headers to prevent easy bypassing
RATE_LIMIT_HMAC_SECRET=your-random-32-character-secret-change-this-in-production

# ============================================
# Development
# ============================================
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================
# Production (Vercel will set these automatically)
# ============================================
# NODE_ENV=production
# NEXT_PUBLIC_APP_URL=https://keyflash.com
# VERCEL_URL=keyflash.vercel.app (set by Vercel)
# VERCEL_ENV=production (set by Vercel: production|preview|development)

# ============================================
# CI/CD & Testing
# ============================================

# CI environment (automatically set by CI providers)
# CI=true

# Package version (automatically set by npm)
# npm_package_version=1.0.0

# Lighthouse CI GitHub Integration (Optional)
# For posting Lighthouse results to GitHub PRs
# Get token from: https://github.com/settings/tokens (repo scope)
# LHCI_GITHUB_APP_TOKEN=